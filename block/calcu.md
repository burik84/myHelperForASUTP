# CALCU

Что это и как его использовать.

Но главное это ограничения. Да у этого блока есть ``ограничения`` при расчетах, как оно выражается? Очень просто - перестает корректно работать или вообще не работает. Поэтому использовать его только для ``простейших операций`` с длинной кода **не более 50 строк** или меньше.<br>
*CALCU* - вычислительный блок общего назначения. Есть еще *CALCU-C* - это блок со строчным входом/выходом.

---
## Вводная часть
Комментарии
```
! Текст комментария
```
Оператор определения *SEBOL*
```
program
  Объявление переменных
  alias
  код
  и т.д.  
end
```
Неявное объявления переменных **в начале программы**
```
#implicit none
```
Определение псевдонима для переменной (входа, выхода и т.д.) **в начале программы**
```
alias <псевдоним> <tag>.<параметр>
alias   _ft   FT73001.PV
alias   _d  404TIME.DAY
```
Объявление локальных переменных **в начале программы**
```
integer a !целое
long a !длинное целое
float a !действительное с запятой
double a !двойная точность с запятой
```

---
## Всё про синтаксис
Использование *{ }*
```
Используем если нам нужно условие в программе заключаем {}
{<tag>.<параметр>.<условие>}
CPV = {tag.PV.1} + {tag2.PV.1}*2 + {tag3.PV.1}*4
```
Использование *% и %%*
```
%%<tag>.<параметр> данные блока прибора
%.XWxxxx.<PV> если элемент не имеет имя тэга, то используем номер терминала
```
Перенос на новую строку выражения \
```
if (условие) or \
    (условие) or \
    (условие) then
  программа
end if
```

---
### Для работы
Входные переменные *RV1...RV4* <br>
Выходные переменные *CPV, CPV1, CPV2, CPV3, P01...P08*
```
CPV=tag+tag*2
```
Оператор *if else*
```
if (условие) программа 1.0 ! в одну строчку без then и end if
if (условие) then
  программа
end if
if (условие) then
  программа 1.0
else
  программа 2.0
end if
```
Простейшие операции
```
сложение <+>
вычитание <->
умножение <*>
деление </>
Операторы сравнения <,>,>=,<=,==,<>
логические операторы and, or, not
условия (условие1 and условие2 or условие3)
```

[назад](../index.md)
